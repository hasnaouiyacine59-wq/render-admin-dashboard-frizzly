# Frizzly Admin Dashboard - Render.com Deployment

## Setup Instructions

### 1. Push to GitHub
```bash
git init
git add .
git commit -m "Initial commit"
git remote add origin YOUR_GITHUB_REPO_URL
git push -u origin main
```

### 2. Create Render.com Service
- Go to https://render.com
- Sign up with GitHub
- Click **New** → **Web Service**
- Connect your GitHub repository
- Render will auto-detect Dockerfile

### 3. Configure Service
**Environment:**
- Runtime: Docker
- Plan: Free

**Environment Variables:**
- `FLASK_SECRET_KEY`: (auto-generated by render.yaml)

### 4. Add Firebase Service Account Key (CRITICAL)
- In Render Dashboard, go to your service
- Navigate to **Environment** → **Secret Files**
- Click **Add Secret File**
- **Filename:** `/etc/secret/serviceAccountKey.json`
- **Contents:** Paste your entire Firebase service account JSON
  ```json
  {
    "type": "service_account",
    "project_id": "your-project-id",
    "private_key_id": "...",
    "private_key": "...",
    ...
  }
  ```
- Click **Save Changes**

### 5. Deploy
- Click **Manual Deploy** → **Deploy latest commit**
- Wait for build to complete (~3-5 minutes)

### 6. Access Your App
Your app will be available at: `https://YOUR-SERVICE-NAME.onrender.com`

## How It Works

The app checks for Firebase credentials in this order:
1. `/etc/secret/serviceAccountKey.json` (Render Secret File)
2. `./serviceAccountKey.json` (Local development fallback)

## Troubleshooting

### "Database connection error"
- Check Secret File is added at exact path: `/etc/secret/serviceAccountKey.json`
- Verify JSON is valid (no extra spaces/characters)
- Check Render logs for "Firebase initialized successfully"

### Products not showing
- Ensure Firestore has data in `products` collection
- Check Render logs for errors

### Cold starts (Free tier)
- Free tier spins down after 15 minutes of inactivity
- First request after sleep takes ~30 seconds
- Upgrade to paid plan for always-on service

## Notes
- Secret Files are mounted at deploy time
- Changes to Secret Files require manual redeploy
- Logs available in Render Dashboard → Logs tab

